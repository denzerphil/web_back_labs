{% extends "base.html" %}

{% block lab %}Лабораторная работа 5{% endblock %}

{% block main %}
    <h1>Регистрация</h1>
    
    {% if error %}
        <div style="color: red; margin-bottom: 20px;">
            {{ error }}
        </div>
    {% endif %}
    
    <form method="post" action="{{ url_for('lab5.register') }}">
        <!-- Добавляем скрытое поле для next -->
        <input type="hidden" name="next" value="{{ request.args.get('next', '/lab5') }}">
        
        <div>
            <label for="login">Логин:</label>
            <input type="text" id="login" name="login" value="{{ login or '' }}" required>
        </div>
        
        <div>
            <label for="password">Пароль:</label>
            <input type="password" id="password" name="password" required>
        </div>
        
        <div>
            <label for="name">Имя (необязательно):</label>
            <input type="text" id="name" name="name" value="{{ name or '' }}">
        </div>
        
        <div>
            <button type="submit">Зарегистрироваться</button>
        </div>
    </form>
    
    <div style="margin-top: 20px;">
        <p>Уже есть аккаунт? <a href="{{ url_for('lab5.login') }}?next={{ request.args.get('next', '/lab5') }}">Войти</a></p>
        <p><a href="{{ url_for('lab5.lab') }}">Назад к лабораторной работе 5</a></p>
    </div>
{% endblock %}