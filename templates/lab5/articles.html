{% extends "base.html" %}

{% block lab %}–ú–æ–∏ —Å—Ç–∞—Ç—å–∏{% endblock %}

{% block main %}
<h1>–ú–æ–∏ —Å—Ç–∞—Ç—å–∏</h1>
<p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <strong>{{ name }}</strong></p>

{% if articles %}
    <p>–í—Å–µ–≥–æ —Å—Ç–∞—Ç–µ–π: {{ articles|length }}</p>
    
    {% for article in articles %}
        <div style="margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px;">
            <h2>
                {{ article.title }}
                {% if article.is_favorite %}
                    <span style="color: #FF9800; margin-left: 10px;">‚òÖ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
                {% endif %}
                {% if article.is_public %}
                    <span style="color: #4CAF50; margin-left: 10px;">üåê –ü—É–±–ª–∏—á–Ω–∞—è</span>
                {% endif %}
            </h2>
            
            <div style="margin: 10px 0; padding: 10px; background-color: #f9f9f9; border-radius: 3px;">
                {{ article.article_text|replace('\n', '<br>')|safe }}
            </div>
            
            <div style="margin-top: 10px; font-size: 0.9em; color: #666;">
                <span>–õ–∞–π–∫–æ–≤: {{ article.likes }}</span>
            </div>
            
            <div style="margin-top: 15px;">
                <a href="/lab5/edit/{{ article.id }}" style="padding: 5px 10px; background-color: #2196F3; color: white; text-decoration: none; border-radius: 3px; margin-right: 5px;">
                    –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                </a>
                <a href="/lab5/delete/{{ article.id }}" onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É —Å—Ç–∞—Ç—å—é?');"
                   style="padding: 5px 10px; background-color: #f44336; color: white; text-decoration: none; border-radius: 3px;">
                    –£–¥–∞–ª–∏—Ç—å
                </a>
            </div>
        </div>
    {% endfor %}
{% else %}
    <div style="color: #666; padding: 20px; text-align: center; background-color: #f5f5f5; border-radius: 5px;">
        <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å—Ç–∞—Ç–µ–π.</p>
        <a href="/lab5/create" style="padding: 10px 20px; background-color: #4CAF50; color: white; text-decoration: none; border-radius: 5px;">
            –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é —Å—Ç–∞—Ç—å—é
        </a>
    </div>
{% endif %}

<div style="margin-top: 30px;">
    <a href="/lab5" style="padding: 10px 20px; background-color: #607D8B; color: white; text-decoration: none; border-radius: 5px;">
        –ù–∞ –≥–ª–∞–≤–Ω—É—é
    </a>
</div>
{% endblock %}